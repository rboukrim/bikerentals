(function(t){function e(e){for(var a,i,c=e[0],o=e[1],u=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/bikerentals/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"1a12":function(t,e,r){},"32fd":function(t,e,r){},"3f3b":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("ShoppingCartModal"),r("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"container fixed-top"},[r("nav",{staticClass:"navbar bg-light fixed-top"},[r("div",{staticClass:"container"},[r("router-link",{staticClass:"navbar-brand text-uppercase",attrs:{to:"/"}},[t._v("Bike Rentals")]),r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"text-primary",attrs:{to:"/"}},[r("i",{staticClass:"fa fa-bicycle text-danger"}),t._v(" Bikes")])],1),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"text-primary",attrs:{href:"#"},on:{click:t.viewAccessories}},[r("i",{staticClass:"fa fa-cog text-danger"}),t._v(" Accessories")])])]),r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"text-primary",attrs:{href:"#","data-toggle":"modal","data-target":"#shoppingCart"}},[r("i",{staticClass:"fa fa-shopping-cart"}),t._v(" Cart "),r("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.cartItemsCount))])])])])],1)])])])},c=[],o={name:"Navbar",data:function(){return{showModal:!1}},methods:{viewAccessories:function(){0==this.cartItemsCount||0==this.cartBikesCount?alert("Must select bike(s) first. Then add accessories."):this.$router.push({name:"Accessories"})}},computed:{cartItemsCount:function(){return this.$store.getters.cartItemsCount},cartBikesCount:function(){return this.$store.getters.cartBikesCount}}},u=o,l=(r("5dfc"),r("2877")),d=Object(l["a"])(u,i,c,!1,null,null,null),p=d.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",attrs:{id:"shoppingCart"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[t._m(0),r("div",{staticClass:"modal-body p-0"},[r("ShoppingCartDetails")],1),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{"data-dismiss":"modal"}},[t._v("Keep shopping")]),t.cartIsEmpty?t._e():r("router-link",{staticClass:"btn btn-primary",attrs:{to:"/checkout-summary","data-dismiss":"modal"}},[t._v("Check out")])],1)])])])},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[t._v("Shopping cart")]),r("button",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])}],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.cartIsEmpty?r("table",{staticClass:"table"},[t._m(1)]):r("table",{staticClass:"table"},[t._m(0),r("tbody",[t._l(t.cartItems,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(t._f("toCurrency")(e.price)))]),r("td",[r("ProductQuantityControl",{attrs:{id:e.id}})],1),r("td",[t._v(t._s(t._f("toCurrency")(e.subtotal)))])])})),r("tr",[r("th"),r("th"),r("th",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("Total cost: "+t._s(t._f("toCurrency")(t.cartTotal)))])])],2)])])},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",[t._v("Product")]),r("th",[t._v("Unit Price")]),r("th",[t._v("Quantity")]),r("th",[t._v("Subtotal")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tbody",[r("tr",[r("td",[t._v("Your cart is empty.")])])])}],C=(r("7db0"),r("d81d"),r("b0c0"),r("b64b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"quantity-control w-100"},[r("span",{staticClass:"quantity-control-button minus bg-white rounded-circle",on:{click:t.decreaseQuantity}},[t._v("−")]),r("input",{staticClass:"quantity-number",attrs:{name:"quantity-number",readonly:""},domProps:{value:t.quantity}}),r("span",{staticClass:"quantity-control-button plus bg-white rounded-circle",on:{click:t.increaseQuantity}},[t._v("+")])])}),y=[],b={name:"ProductQuantityControl",props:["id"],methods:{increaseQuantity:function(){0==this.cartBikesCount&&"bike"!==this.productType?alert("Must select bike(s) first. Then add accessories."):this.$store.dispatch("updateCart",{id:this.id,quantity:1})},decreaseQuantity:function(){if(0==this.cartBikesCount&&"bike"!==this.productType)alert("Must select bike(s) first. Then add accessories.");else{var t=this.$store.getters.cart[this.id];t>0&&this.$store.dispatch("updateCart",{id:this.id,quantity:-1})}}},computed:{quantity:function(){return this.$store.getters.cart[this.id]?this.$store.getters.cart[this.id]:0},cartBikesCount:function(){return this.$store.getters.cartBikesCount},productType:function(){var t=this,e=this.$store.getters.products.find((function(e){return t.id==e.id}));return e?e.product_type:""}}},_=b,g=(r("b18d"),Object(l["a"])(_,C,y,!1,null,null,null)),k=g.exports,$={name:"ShoppingcartDetails",components:{ProductQuantityControl:k},computed:{cartItems:function(){for(var t=this,e=this.$store.getters.cart,r=Object.keys(e).map((function(e){return t.$store.getters.products.find((function(t){return e==t.id}))})),a=[],n=0;n<r.length;n++){var s=e[r[n].id],i={id:r[n].id,name:r[n].name,price:r[n].price,quantity:s,subtotal:s*r[n].price};a.push(i)}return a},cartIsEmpty:function(){return 0==this.cartItems.length},cartTotal:function(){for(var t=0,e=0;e<this.cartItems.length;e++)t+=this.cartItems[e].subtotal;return t}}},x=$,j=Object(l["a"])(x,h,v,!1,null,null,null),w=j.exports,O={name:"ShoppingCartModal",components:{ShoppingCartDetails:w},computed:{cartIsEmpty:function(){return 0==this.$store.getters.cartItemsCount}}},P=O,I=Object(l["a"])(P,m,f,!1,null,null,null),E=I.exports,S={components:{Navbar:p,ShoppingCartModal:E}},q=S,B=(r("034f"),Object(l["a"])(q,n,s,!1,null,null,null)),T=B.exports,M=r("8c4f"),Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h2",{staticClass:"page-header mt-4 text-center"},[t._v("Bikes")]),r("div",{staticClass:"row justify-content-center"},t._l(t.bikes,(function(t){return r("Product",{key:t.id,staticClass:"col-10 col-md-4 my-3",attrs:{id:t.id,name:t.name,image:t.image,price:t.price,type:t.product_type}})})),1)])},A=[],D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"card product-card"},[r("img",{staticClass:"card-img-top",attrs:{src:t.image,alt:t.name}}),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title product-name"},[t._v(t._s(t.name))]),r("div",{staticClass:"justify-content-around align-items-center"},[r("div",{staticClass:"product-price"},[r("span",{staticClass:"amount"},[t._v(t._s(t._f("toCurrency")(t.price)))])]),r("div",{staticClass:"product-quantity-wrapper d-inline-flex flex-column justify-content-start"},[r("div",{staticClass:"call-to-action mt-2"},[t._v("Add to Cart")]),r("ProductQuantityControl",{attrs:{id:t.id}})],1)])])])])},N=[],U={name:"Product",props:["id","name","image","price","type"],components:{ProductQuantityControl:k}},F=U,H=(r("e903"),Object(l["a"])(F,D,N,!1,null,null,null)),J=H.exports,R={name:"Home",components:{Product:J},computed:{products:function(){return this.$store.getters.products},bikes:function(){return this.products.filter((function(t){return"bike"===t.product_type}))}}},K=R,L=Object(l["a"])(K,Q,A,!1,null,null,null),W=L.exports,Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h2",{staticClass:"page-header mt-4 text-center"},[t._v("Accessories")]),r("div",{staticClass:"row justify-content-center",attrs:{id:"addons"}},t._l(t.accessories,(function(t){return r("Product",{key:t.id,staticClass:"col-10 col-md-4 my-3",attrs:{id:t.id,name:t.name,image:t.image,price:t.price,type:t.product_type}})})),1)])},z=[],G={name:"Accessories",components:{Product:J},computed:{products:function(){return this.$store.getters.products},accessories:function(){return this.products.filter((function(t){return"accessory"===t.product_type}))}}},V=G,X=(r("5a6a"),Object(l["a"])(V,Y,z,!1,null,null,null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h2",{staticClass:"page-header mt-4 text-center"},[t._v("Order Summary")]),r("div",{staticClass:"row px-2"},[r("div",{staticClass:"col-12 col-md-6"},[t.cartIsEmpty?t._e():r("div",{staticClass:"row justify-content-center mt-5 mb-2"},[r("h5",{staticClass:"text-danger"},[t._v("Would you like to add insurance to your bike rentals?")]),t._l(t.addons,(function(t){return r("Product",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,price:t.price,type:t.product_type}})}))],2)]),r("div",{staticClass:"col-12 col-md-6 my-5"},[t.cartIsEmpty?t._e():r("h5",{staticClass:"text-danger"},[t._v("Place order")]),r("div",{staticClass:"row justify-content-start mb-2"},[r("ShoppingCartDetails")],1),t.cartIsEmpty?t._e():r("div",{staticClass:"row justify-content-center"},[r("button",{staticClass:"btn btn-primary",on:{click:t.placeOrder}},[t._v("Place order")])])])])])},et=[],rt={name:"CheckoutSummary",components:{Product:J,ShoppingCartDetails:w},methods:{placeOrder:function(){this.$router.push({name:"OrderConfirmation"}),this.$store.dispatch("clearCart")}},computed:{cartIsEmpty:function(){return 0==this.$store.getters.cartItemsCount},products:function(){return this.$store.getters.products},addons:function(){return this.products.filter((function(t){return"addon"===t.product_type}))}}},at=rt,nt=Object(l["a"])(at,tt,et,!1,null,null,null),st=nt.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ct=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h2",{staticClass:"page-header mt-4 text-center"},[t._v("Order Confirmation")]),r("div",{staticClass:"row justify-content-center my-5"},[r("p",[t._v("Thank you for your order. Enjoy your bike ride!")])])])}],ot={name:"OrderConfirmation"},ut=ot,lt=Object(l["a"])(ut,it,ct,!1,null,null,null),dt=lt.exports;a["a"].use(M["a"]);var pt=[{path:"/",name:"Home",component:W},{path:"/accessories",name:"Accessories",component:Z},{path:"/checkout-summary",name:"CheckoutSummary",component:st},{path:"/order-confirmation",name:"OrderConfirmation",component:dt}],mt=new M["a"]({mode:"history",base:"/bikerentals/",routes:pt}),ft=mt,ht=r("2f62"),vt=r("bc3a"),Ct=r.n(vt),yt=function(){return Ct.a.create({baseURL:"./data",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}})},bt={getProducts:function(){return yt().get("/bikerentals.json")}};a["a"].use(ht["a"]);var _t=new ht["a"].Store({state:{products:[],cart:{},cartItemsCount:0,cartBikesCount:0},actions:{loadData:function(t){var e=t.commit;bt.getProducts().then((function(t){e("updateProducts",t.data.products)}))},updateCart:function(t,e){var r=t.commit;r("updateCart",{id:e.id,quantity:e.quantity})},clearCart:function(t){var e=t.commit;e("clearCart")}},mutations:{updateProducts:function(t,e){t.products=e},updateCart:function(t,e){var r=e.id,n=t.cart[r]?t.cart[r]+e.quantity:e.quantity;a["a"].set(t.cart,r,n),0==n&&delete t.cart[r],t.cartItemsCount+=e.quantity;var s=t.products.find((function(t){return r==t.id}));"bike"===s.product_type&&(t.cartBikesCount+=e.quantity,0==t.cartBikesCount&&this.dispatch("clearCart"))},clearCart:function(t){t.cart={},t.cartItemsCount=0}},getters:{products:function(t){return t.products},cart:function(t){return t.cart},cartItemsCount:function(t){return t.cartItemsCount},cartBikesCount:function(t){return t.cartBikesCount}},modules:{}});a["a"].config.productionTip=!1,a["a"].filter("toCurrency",(function(t){if("number"!==typeof t)return t;var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});return e.format(t)})),new a["a"]({router:ft,store:_t,render:function(t){return t(T)},mounted:function(){this.$store.dispatch("loadData")}}).$mount("#app")},"5a6a":function(t,e,r){"use strict";var a=r("32fd"),n=r.n(a);n.a},"5dfc":function(t,e,r){"use strict";var a=r("1a12"),n=r.n(a);n.a},"680e":function(t,e,r){},"85ec":function(t,e,r){},b18d:function(t,e,r){"use strict";var a=r("680e"),n=r.n(a);n.a},e903:function(t,e,r){"use strict";var a=r("3f3b"),n=r.n(a);n.a}});
//# sourceMappingURL=app.f94735f3.js.map